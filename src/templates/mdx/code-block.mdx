# Code blocks

Code blocks are used to represent code in your documentation with highlighting and formatting.

You can edit the theme of this code block by changing the `shiki-theme` in `doxium.json` file, located at the root of your project.

```json
// json
{
    "github-repo": "", // [!code focus] 
    "theme": { // [\!code focus]
        "shiki": "github-dark-dimmed"
    }
}
```

```ts noTopBar
import fs from 'fs';
import path from 'path';
import { DoxiumConfig } from '@/types';

export const getHightlighterTheme = async (): Promise<string> => {
    const doxiumPath = path.join(process.cwd(), 'doxium.json');
    const fileContents = fs.readFileSync(doxiumPath, 'utf8');
    const doxiumConfig: DoxiumConfig = JSON.parse(fileContents);

    return doxiumConfig['shiki-theme'];
};
```

```rs noTopBar noCopyButton lineNumbers
use surrealdb::engine::local::{Db, RocksDb};
use surrealdb::Surreal;
use tokio::sync::OnceCell;

pub static DB: OnceCell<Surreal<Db>> = OnceCell::const_new();

pub async fn init() -> Result<Surreal<Db>, String> {
    let db = Surreal::new::<RocksDb>("surrealdb.db")
        .await
        .map_err(|e| format!("Failed to create database: {}", e))?;

    db.use_ns("dev")
        .use_db("main")
        .await
        .map_err(|e| format!("Failed to switch to namespace: {}", e))?;

    DB.set(db.clone()).unwrap();

    Ok(db)
}
```

The list of all available themes is (for now) available on this [website](https://textmate-grammars-themes.netlify.app/?theme=github-dark-dimmed&grammar=typescript)

## Roadmap

I was able to implement support for all themes, aswell as automatic text colour change when using a light theme.
In the future I am looking forward to being able to customise:

- [ ]  Top bar
- [ ]  Copy button
- [ ]  Icons
- [ ]  Languages
- [x] Highlighting specific code
- [x] Code diff

```tsx lineNumbers
// tsx lineNumbers
// [!code word:Breadcrumb]
// [\!code word:Breadcrumb]
export const DocsBreadcrumbs = () => {
    const pathname = usePathname();
    const path = pathname.split('/').filter((p) => p !== '');
    return (
        <Breadcrumb className='not-prose text mt-8 flex w-full'>
            <BreadcrumbList>
                <BreadcrumbItem> // [\!code highlight]
                    <BreadcrumbLink asChild> // [!code highlight] 
                        <Link href={'/'}>Home</Link> // [!code highlight]
                    </BreadcrumbLink> // [!code highlight]
                </BreadcrumbItem> // [\!code ++]
                {path.map((v, i) => { // [!code ++]
                    const href = `/${path.slice(0, i + 1).join('/')}`; // [!code ++] 
                    const isLast = i === path.length - 1; // [!code ++]
                    return ( // [\!code --]
                        <Fragment key={i}> // [!code --]
                            <BreadcrumbSeparator /> // [!code --]
                            <BreadcrumbItem className={isLast ? 'text-zinc-50 hover:text-blue-600' : ''}>  // [!code --]
                                {isLast ? ( // [\!code warning]
                                    <BreadcrumbLink asChild> // [!code warning]
                                        <Link href={href}>{prettifyText(v)}</Link>// [!code warning]
                                    </BreadcrumbLink> // [!code warning]
                                ) : (
                                    prettifyText(v)
                                )}
                            </BreadcrumbItem>
                        </Fragment>
                    );
                })}
            </BreadcrumbList>
        </Breadcrumb>
    );
};
```
